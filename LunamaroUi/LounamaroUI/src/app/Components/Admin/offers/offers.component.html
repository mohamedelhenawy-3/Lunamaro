<div class="offers-container">

  <!-- ================= WEEKLY DEALS ================= -->
  <div class="section-header">
    <h2>üî• Weekly Deals</h2>
    <button class="add-btn">+ Add Deal</button>
  </div>

  <div *ngIf="weeklyDeals.length === 0" class="empty-state">
    No weekly deals available.
  </div>

  <table *ngIf="weeklyDeals.length > 0">
    <thead>
      <tr>
        <th>ID</th>
        <th>Product</th>
        <th>Discount %</th>
        <th>Expiry</th>
        <th>Status</th>
        <th class="actions">Actions</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let deal of weeklyDeals">
        <td class="mono">{{ deal.id }}</td>
        <td class="product">{{ deal.product?.name }}</td>
        <td class="gold mono">{{ deal.discountPercentage }}%</td>
        <td class="mono">{{ deal.expiryDate | date }}</td>

        <!-- Toggle Status -->
        <td>
          <span [ngClass]="deal.isActive ? 'badge-active' : 'badge-inactive'" 
                (click)="toggleWeeklyStatus(deal)">
            {{ deal.isActive ? 'Active' : 'Inactive' }}
          </span>
        </td>

        <td class="actions">
          <button class="edit-btn">Edit</button>
          <button class="delete-btn" (click)="deleteWeeklyDeal(deal.id)">Delete</button>
        </td>
      </tr>
    </tbody>
  </table>

  <hr />

  <!-- ================= DISCOUNT TIERS ================= -->
  <div class="section-header">
    <h2>üí∞ Discount Tiers</h2>
    <button class="add-btn">+ Add Tier</button>
  </div>

  <div *ngIf="discountTiers.length === 0" class="empty-state">
    No discount tiers available.
  </div>

  <table *ngIf="discountTiers.length > 0">
    <thead>
      <tr>
        <th>ID</th>
        <th>Minimum Amount</th>
        <th>Discount Amount</th>
        <th>Status</th>
        <th class="actions">Actions</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let tier of discountTiers">
        <td class="mono">{{ tier.id }}</td>
        <td>{{ tier.minimumAmount }}</td>
        <td class="gold mono">{{ tier.discountAmount }}</td>

        <!-- Toggle Status -->
        <td>
          <span [ngClass]="tier.isActive ? 'badge-active' : 'badge-inactive'" 
                (click)="toggleDiscountStatus(tier)">
            {{ tier.isActive ? 'Active' : 'Inactive' }}
          </span>
        </td>

        <td class="actions">
          <button class="edit-btn">Edit</button>
          <button class="delete-btn">Delete</button>
        </td>
      </tr>
    </tbody>
  </table>

  <hr />

  <!-- ================= ADD-ON REWARDS ================= -->
  <div class="section-header">
    <h2>üéÅ Add-On Rewards</h2>
    <button class="add-btn">+ Add Reward</button>
  </div>

  <div *ngIf="addOnRewards.length === 0" class="empty-state">
    No rewards available.
  </div>

  <table *ngIf="addOnRewards.length > 0">
    <thead>
      <tr>
        <th>ID</th>
        <th>Minimum Amount</th>
        <th>Free Product</th>
        <th>Status</th>
        <th class="actions">Actions</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let reward of addOnRewards">
        <td class="mono">{{ reward.id }}</td>
        <td>{{ reward.minimumAmount }}</td>
        <td class="product">{{ reward.freeProduct?.name }}</td>

        <!-- Toggle Status -->
        <td>
          <span [ngClass]="reward.isActive ? 'badge-active' : 'badge-inactive'" 
                (click)="toggleRewardStatus(reward)">
            {{ reward.isActive ? 'Active' : 'Inactive' }}
          </span>
        </td>

        <td class="actions">
          <button class="edit-btn">Edit</button>
          <button class="delete-btn" >Delete</button>
        </td>
      </tr>
    </tbody>
  </table>

</div>