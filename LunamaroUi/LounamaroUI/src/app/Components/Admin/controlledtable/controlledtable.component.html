<div class="management-card">
  <div class="management-header">
    <div class="title-group">
      <h2>Table Inventory</h2>
      <p>Configure floor layout and table availability</p>
    </div>
    <button class="btn-primary-gold" (click)="AddTable()">
      <i class="fas fa-plus-circle me-2"></i> Add New Table
    </button>
  </div>

  <div *ngIf="Table.length > 0; else noTables" class="table-responsive-wrapper">
    <table class="lunamaro-table">
      <thead>
        <tr>
          <th>Reference</th>
          <th>Table Details</th>
          <th>Location</th>
          <th>Availability</th>
          <th>Status Control</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let t of Table; trackBy: trackByIndex">
          <td class="id-text">#{{ t.id }}</td>

          <td>
            <div class="table-info-cell">
              <span class="table-label">Table {{ t.tableNumber }}</span>
              <span class="capacity-pill"><i class="fas fa-users"></i> {{ t.capacity }} Seats</span>
            </div>
          </td>

          <td>
            <div class="location-cell">
              <i class="fas fa-map-marker-alt"></i>
              <span>{{ t.location }}</span>
            </div>
          </td>

          <td>
            <div class="status-indicator" [ngClass]="t.isAvailable === 'Available' ? 'is-active' : 'is-disabled'">
              <span class="pulse-dot"></span>
              {{ t.isAvailable }}
            </div>
          </td>

          <td>
            <div class="select-box">
              <select [(ngModel)]="t.isAvailable" (change)="onStatusChange(t)">
                <option value="Available">Available</option>
                <option value="UnAvailable">UnAvailable</option>
              </select>
            </div>
          </td>

          <td>
            <button class="btn-edit-action" (click)="UpdateTable(t.id)">
              <i class="fas fa-pen"></i> Update
            </button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <ng-template #noTables>
    <div class="empty-state">
      <i class="fas fa-chair"></i>
      <p>Your dining floor is empty. Start by adding your first table.</p>
    </div>
  </ng-template> 
</div>