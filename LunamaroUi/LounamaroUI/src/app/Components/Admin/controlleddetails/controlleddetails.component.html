<div class="order-details-container" *ngIf="orderDetails">

  <div class="order-card">
    <div class="order-card-header">
      <h4>Order #{{ orderDetails.orderId }}</h4>
    </div>

    <div class="order-card-body">

      <div class="row order-info mb-3">
        <div class="col-md-6">
          <p><strong>Date:</strong> {{ orderDetails.dateOfOrder | date:'medium' }}</p>
          <p><strong>Status:</strong>
            <span class="status-badge" 
              [ngClass]="{
                'status-pending': orderDetails.orderStatus === 'Pending',
                'status-delivered': orderDetails.orderStatus === 'Delivered',
                'status-cancelled': orderDetails.orderStatus === 'Cancelled'
              }">
              {{ orderDetails.orderStatus }}
            </span>
          </p>
        </div>

        <div class="col-md-6 text-md-end">
          <p><strong>Total Amount:</strong> {{ orderDetails.totalAmount | currency:'EGP':'symbol':'1.0-0' }}</p>
        </div>
      </div>

      <h5 class="items-title">Items</h5>
      <table class="order-items-table">
        <thead>
          <tr>
            <th>Image</th>
            <th>Product</th>
            <th>Quantity</th>
            <th>Unit Price</th>
            <th>Total</th>
          </tr>
        </thead>

        <tbody>
          <tr *ngFor="let item of orderDetails.orderItems">
            <td><img [src]="'http://localhost:5218' + item.imgUrl" alt="{{ item.productName }}" class="product-img"></td>
            <td>{{ item.productName }}</td>
            <td>{{ item.quantity }}</td>
            <td>{{ item.price | currency:'EGP':'symbol':'1.0-0' }}</td>
            <td>{{ (item.price * item.quantity) | currency:'EGP':'symbol':'1.0-0' }}</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

  <button class="btn-back"[routerLink]="['/Admin/ordershistory']">>
    ‚Üê Back to Order History
  </button>
</div>

<!-- Loader -->
<div *ngIf="!orderDetails" class="text-center mt-5">
  <div class="spinner-border text-warning" role="status"></div>
  <p class="mt-2" style="color:#fff;">Loading order details...</p>
</div>
